import{u as v,r as t,j as e,D,c as h}from"./index-DHadUPOb.js";import{B as S}from"./index-D0MkBcLG.js";const A=()=>{const{user:g}=v(),[a,p]=t.useState([]),[b,l]=t.useState(!1),[r,o]=t.useState(!1),[f,n]=t.useState(!1),[i,j]=t.useState(null),c=async()=>{try{const{data:s}=await h.get(`/qa-section/user-questions/${g._id}`);p(s.questions)}catch(s){console.log(s)}},y=async()=>{try{n(!0),await h.delete(`/qa-section/question/${i}`),l(!1),c()}catch(s){console.error("Error deleting question:",s)}finally{n(!1)}};return t.useEffect(()=>{c()},[]),e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-black text-center",children:"Questions Posted"}),e.jsx("div",{className:"divide-y divide-gray-200 space-y-4",children:(a==null?void 0:a.length)===0?e.jsx("p",{className:"text-[var(--primary)] text-center py-4",children:"No questions asked yet!"}):a.map(s=>{var d,u,x,m;return e.jsxs("div",{className:"mb-8 p-6 rounded-lg bg-white transition duration-300 shadow-1 hover:shadow-2",children:[e.jsxs("div",{className:"flex items-center mb-4 justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:((d=s.author)==null?void 0:d.picture)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWXzCSPkpN-TPug9XIsssvBxZQHkZEhjoGfg&s",alt:`${(u=s.author)==null?void 0:u.username}'s avatar`,className:"w-12 h-12 rounded-full mr-3 border-2 border-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--primary)]",children:(x=s.author)==null?void 0:x.username}),e.jsx("p",{className:"text-gray-500 text-sm",children:new Date(s.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"text-black cursor-pointer",onClick:()=>{j(s._id),o(!r)}}),r&&i===s._id&&e.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-lg z-10",children:e.jsx("button",{className:"w-full px-4 py-2 text-left text-red-600 hover:bg-gray-100 rounded-lg",onClick:()=>{l(!0),o(!1)},children:"Delete"})})]})]}),e.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-800",children:s.questionText}),e.jsx("p",{className:"text-gray-700 mb-4",children:s.context}),e.jsx("div",{className:"flex flex-wrap mb-4",children:(m=s.tags)==null?void 0:m.map((N,w)=>e.jsx("span",{className:"bg-blue-200 text-blue-800 text-xs font-medium mr-2 px-3 py-1 rounded-full transition duration-200 hover:bg-blue-300",children:N},w))})]},s._id)})}),e.jsx(D,{isOpen:b,onClose:()=>l(!1),onDelete:y,title:"Delete Question",message:"Are you sure you want to delete this question?",itemType:"question",isLoading:f})]})};export{A as default};
