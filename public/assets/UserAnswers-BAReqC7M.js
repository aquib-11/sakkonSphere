import{u as v,r as t,j as e,D as N,c as g}from"./index-DHadUPOb.js";import{B as D}from"./index-D0MkBcLG.js";const k=()=>{const{user:p}=v(),[a,j]=t.useState([]),[f,r]=t.useState(!1),[l,n]=t.useState(!1),[w,c]=t.useState(!1),[o,y]=t.useState(null),i=async()=>{try{const{data:s}=await g.get(`/qa-section/user-answers/${p._id}`);j(s.answers)}catch(s){console.log(s)}},b=async()=>{try{c(!0),await g.delete(`/qa-section/question/answer/${o}`),r(!1),i()}catch(s){console.error("Error deleting answer:",s)}finally{c(!1)}};return t.useEffect(()=>{i()},[]),e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-black text-center",children:"Answers Given"}),e.jsx("div",{className:"divide-y divide-gray-200 space-y-4",children:(a==null?void 0:a.length)===0?e.jsx("p",{className:"text-[var(--primary)] text-center py-4",children:"No answers given yet!"}):a.map(s=>{var d,m,h,x,u;return e.jsxs("div",{className:"mb-8 p-6 rounded-lg bg-white transition duration-300 shadow-1 hover:shadow-2",children:[e.jsxs("div",{className:"flex items-center mb-4 justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:((d=s.author)==null?void 0:d.avatar)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWXzCSPkpN-TPug9XIsssvBxZQHkZEhjoGfg&s",alt:`${(m=s.author)==null?void 0:m.username}'s avatar`,className:"w-12 h-12 rounded-full mr-3 border-2 border-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--primary)]",children:(h=s.author)==null?void 0:h.username}),e.jsx("p",{className:"text-gray-500 text-sm",children:new Date(s.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"text-black cursor-pointer",onClick:()=>{y(s._id),n(!l)}}),l&&o===s._id&&e.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-lg z-10",children:e.jsx("button",{className:"w-full px-4 py-2 text-left text-red-600 hover:bg-gray-100 rounded-lg",onClick:()=>{r(!0),n(!1)},children:"Delete"})})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:s.context}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsxs("span",{children:[((x=s.likes)==null?void 0:x.length)||0," likes"]}),e.jsx("span",{className:"mx-2",children:"â€¢"}),e.jsxs("span",{children:[((u=s.comments)==null?void 0:u.length)||0," comments"]})]})]},s._id)})}),e.jsx(N,{isOpen:f,onClose:()=>r(!1),onDelete:b,title:"Delete Answer",message:"Are you sure you want to delete this answer?",itemType:"answer",isLoading:w})]})};export{k as default};
